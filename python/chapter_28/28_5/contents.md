# 28-5. Flask를 이용한 API 작성

## 엔드포인트(endpoint)란?

간단하게 설명하자면 API 서버가 제공하는 __통신 채널__ 혹은 __접점__ 이라고 할 수 있다. 

프론트엔드 서버 등의 클라이언트가 백엔드 API 서버와 통신할 때 엔드포인트에 접속하는 형태로 통신하게 된다. 각 엔드포인트는 고유의 URL 주소를 
가지게 되며, 고유의 URL 주소를 통해 해당 엔드포인트에 접속할 수 있다.

일반적으로 각 엔드포인트는 고유의 기능을 담당하고 있다. 그리고 이러한 엔드포인트들이 모여서 하나의 `API`를 구성하는 것이다. 예를 들어, SNS 
서비스를 위한 `API`는 `사용자 sign up 엔드포인트`, `사용자 로그인 엔드포인트`, `새로운 포스팅 생성 엔드포인트`, `다른 사용자와 친구 맺기 엔드포인트` 등의
__여러 엔드포인트들로 구성되어 있다.__

## Web Framework API 개발을 위한 유용한 툴

### [httpie](https://httpie.io/)

cURL보다 쉽게 터미널에서 HTTP 요청을 보낼 수 있게 해주는 툴이다.

```shell
http -v http://localhost:5000/ping
```

## Flask API 개발

+ Flast에서는 일반적으로 `route` 데코레이터를 사용해서 함수들을 `엔드포인트`로 등록하는 방식이 사용된다.
+ Flast에서 `엔드포인트`를 구현한다는 것은 결국은 일반 함수를 구현하는 것과 마찬가지다. 그러므로 백엔드 API 개발도 구조적으로는 크게
어렵거나 복잡할 것이 없다.
+ 비지니스 로직(business logic)을 구현하는 함수들을 개발하는 것이 백엔드 API에서 차지하는 가장 큰 부분이다.

> API를 개발하기 위해 필수적인 기본 개념들 중 가장 중요한 것 하낙 바로 [HTTP](../28_3/contents.md)다. 왜냐하면 API는 기본적으로 HTTP 통신에 기반을 두고 있기 
> 때문이다.

백엔드 API 시스템의 엔드포인트 구현도 기본적으로 HTTP 요청을 인풋(input)으로 받아서 HTTP 응답을 아웃풋(output)으로 리턴하는 구조로
구현을 하게 된다.

```python
@app.route('/ping', methods=['GET'])
def ping():
    return 'pong'
```

`ping` 엔드포인트의 경우에도 마찬가지로 HTTP 요청과 응답이 오고 가는 구조다. 이 경우 HTTP 요청은 `/ping` 주소에 `GET` 요청을 보내는 것이고,
HTTP 응답은 200 OK 상태 코드와 함께 `pong`이라는 텍스트를 보내는 것이다.
