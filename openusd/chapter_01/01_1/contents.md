# OpenUSD 개요
- - -

## USD를 통해 협업 workflow를 더욱 원활하게 운영하는 방법

3D 작업들은 코드처럼 텍스트 문자가 아니므로 협업하기가 매우 까다롭다. 또한 3D 작업은 각 파트마다의
작업 방식으로인해 대기하는 시간이 길어질 수 밖에 없는 구조이다.   
예를 들면, 모델링 -> 텍스처 -> 애니메이션 -> ... 등의 구조라면 모델링 파트에서 모델 작업을 하는 동안 텍스처 파트는 대기해야 하는 상황이 불가피하다.   
이런 대기 시간을 줄이고자 나온 파이프라인이 USD이다.   
   
기술의 발전으로 협업을 위한 도구들이 즐비하고 있다. 포스트프로덕션에서는 [Frame.io](https://frame.io/)와 같은 비디오 협업 도구가 있으며, 
프로그래머에게는 [git](https://git-scm.com/), [perforce](https://www.perforce.com/ko), [svn](https://tortoisesvn.net/) 등의 
협업 버전 관리 시스템 도구들이 있다.   
3D 아티스트를 위한 협업 도구는 과거도 그렇고 현 시점에서도 부족함이 많다. 그 이유는 3D 파일을 공유하는 것은 복잡하기 때문이다.   
   
#### 3D 파일 형식이 너무 많다 -> 그 파일 형식들이 무한한 종속성과 차이들이 있다 -> 3D 파일을 공유하는 것이 복잡해진다 -> 3D 아티스트를 위한 협업 도구의 부족함으로 나타난다

## 새로운 표준의 탄생
   
[pixar](https://www.pixar.com/)의 연구 개발 팀은 먼저 자체 스튜디오의 __협업 병목 현상__ 을 해결하기 위한 도구로 USD를 개발했다. pixar는
2012년에 scene 개발 파이프라인을 workflow와 도구를 통합할 수 있는 접근 방식으로 전환하기 위해 공식적으로 USD 작업을 시작했다.
초기 결과는 내부 도구인 TidScene, Presto 및 Hydra와 함께 작동하여 3D 이미지를 만들고 렌더하기 위한 완벽한 파이프라인을 형성하는 형식이었다.
2016년에 pixar는 전체 3D 산업을 위한 Apache 라이선스로 USD를 __Open Source__ 화 했다. :laughing:

<center><img src="../../../images/usd_scrn.png" width="1152" height="888"></center>       

_이미지 출처: [blender](https://docs.blender.org/manual/en/latest/files/import_export/usd.html)_

출시 이후 USD는 autodesk, adobe, maxon, apple 및 blender와 같은 기타 오픈 소스 도구의 대부분의 3D 및 CAD 소프트웨어를 포함하여 대부분의 
전문가용 3D 도구에 서서히 통합되었다. USD는 오픈 소스 특성과 아티스트의 워크플로우를 단순화하는 효율적이고 우수한 도구이기 때문에 업계 표준으로 
빠르게 자리 잡았다. USD는 3D 소프트웨어 뿐만 아니라 3D 파일 처리에 전적으로 USD를 기반으로 하는 
NVIDIA의 [omniverse](https://www.nvidia.com/en-us/omniverse/) 플랫폼과 같은 다른 혁신적인 기술의 근간이 되었다.

## USD 사용이 가져오는 이점

USD를 특별하게 만드는 것은 현대적인 아키텍처를 통해 __짧은 대기 시간__ 으로 아티스트를 대신하여 거대한 작업을 수행할 수 있다는 것이다. 
그러나 핵심 개념은 그대로 유지된다.   
협업은 분명 USD의 주요 기능 중 하나이며, 버전 관리는 이를 고유하게 만드는 요소 중 결코 작은 부분이 아니다. 여러 아티스트가 프로젝트를 진행할 때 
USD는 레이어를 사용하여 각 사용자의 작업을 구분하고 각 사용자 레이어의 특성을 기반으로 각 레이어의 "의견 강도"를 사용하여 최종 씬에 적용할 변경 사항을 
파악한다. 이 방법은 여러 개의 파일과 폴더를 하나의 씬에 중첩하여 USD 파일을 병합하고 조작할 수 있다는 점을 활용한다. 즉, USD 프로젝트는 단일 3D 모델 
파일처럼 단순한 것부터 USD 파일의 전체 프로젝트 트리에 이르기까지 다양하다.

<center><img src="../../../images/usd_structure.png" width="913" height="603"></center>       

_이미지 출처: [OpenUSD](https://openusd.org/dev/api/_usd__page__scenegraph_instancing.html)_

_USD 프로젝트에는 scene을 형성하는 여러 하위 레이어와 파일이 포함되어 있다._   

이를 통해 USD의 또 다른 주요 이점인 확장성을 얻을 수 있다. USD는 최대 스튜디오와 소규모 프로젝트 모두에서 작동하도록 설계되었다. 즉, 프로젝트의 성장에 
따라 규모가 커지지 않고 수명 기간 동안 USD를 효과적으로 확장할 수 있다. USD의 아키텍처는 다중 스레드화 되고 GPU 가속이므로 대규모 작업을 어려움 없이 
처리할 수 있다. 확장성은 pixar가 USD를 구축할 때 가장 큰 우려 사항 중 하나였으며, 이는 테스트를 통과했다. USD는 대부분의 주요 스튜디오에서 어느 정도 
수준에서 사용되고 있으며 많은 소규모 팀에서 scene을 구성하고 유지 관리하는 데 사용된다.

<pre>
USD 및 Hydra와 같은 툴을 사용하면 특히 대규모 프로젝트에서 렌더링을 크게 최적화할 수 있다. USD는 렌더 엔진에서 신속하게 액세스하고 사용할 수 있는 
방식으로 파일을 저장하므로 전체 USD 파이프라인에서 scene 구축 시간이 크게 단축된다. 이러한 효율성의 대부분은 pixar의 Presto 애니메이션 도구 내에서 
OpenGL 실시간 미리 보기를 위해 USD를 최적화하려는 pixar의 초기 작업의 부산물이다. 그러나 이러한 최적화는 렌더링의 모든 영역에 큰 영향을 미치면서 
스튜디오의 로컬 및 온라인 렌더팜 비용을 훨씬 절감시켰다.
</pre>

## Summary

USD의 사용은 향상된 효율성, 호환성, 다양한 도구 간의 workflow 및 파일 표준화 등 이미 아티스트, 스튜디오 및 온라인 렌더팜에 몇 가지 중요한 이점을 
제공하고 있다. 파일 호환성 및 버전 제어 시스템은 오랫동안 3D 크리에이티브의 가장 중요한 기술적 과제였다. 따라서 USD를 통해 이러한 문제를 해결할 수 
있는 방법을 제공한다는 것을 알게 된 점은 매우 반가운 일이다.

+ [Products Using USD](https://www.openusd.org/release/usd_products.html)
+ [USD at NVIDIA](https://developer.nvidia.com/usd)